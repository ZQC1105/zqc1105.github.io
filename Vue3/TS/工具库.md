åœ¨ TypeScript ç”Ÿæ€ä¸­ï¼Œæœ‰è®¸å¤šä¼˜ç§€çš„å·¥å…·åº“ä¸“ä¸ºç±»å‹å®‰å…¨è®¾è®¡ã€‚ä»¥ä¸‹æ˜¯æˆ‘æ¨èçš„åˆ†ç±»åˆ—è¡¨ï¼Œæ¯ä¸ªåº“éƒ½æœ‰å…¶ç‹¬ç‰¹ä¼˜åŠ¿ï¼š

## **ğŸŒŸ ä¸€ã€å…¨èƒ½å®ç”¨å·¥å…·åº“**

### **1. Radash** â­ï¼ˆå¼ºçƒˆæ¨èï¼‰

```bash
npm install radash
```

**ç‰¹ç‚¹**ï¼šç°ä»£ Lodash æ›¿ä»£å“ï¼ŒåŸç”Ÿ TypeScript ç¼–å†™ï¼Œé›¶ä¾èµ–

```typescript
import { group, tryit, alphabet } from "radash";

// å®Œç¾çš„ç±»å‹æ¨æ–­
const users = [{ team: "alpha" }, { team: "beta" }];
const grouped = group(users, (u) => u.team); // Record<string, User[]>

// é”™è¯¯å¤„ç†
const [error, data] = await tryit(fetch)("/api");

// ç±»å‹å®‰å…¨çš„æ•°ç»„æ“ä½œ
const list = [1, 2, 3];
const first = list[0]; // number | undefined (æ›´å®‰å…¨)
```

### **2. Lodash (with TypeScript)**

è™½ç„¶è€ç‰Œï¼Œä½†ç±»å‹æ”¯æŒå®Œå–„ï¼Œé€‚åˆå·²æœ‰é¡¹ç›®æˆ–å¤æ‚æ“ä½œã€‚

## **ğŸ”§ äºŒã€ç±»å‹æ“ä½œä¸å·¥å…·**

### **1. type-fest**

```bash
npm install type-fest
```

**ç‰¹ç‚¹**ï¼šä¸°å¯Œçš„ TypeScript å·¥å…·ç±»å‹é›†åˆ

```typescript
import type { PartialDeep, Merge, CamelCase } from "type-fest";

type PartialConfig = PartialDeep<Config>;
type Merged = Merge<Defaults, Overrides>;
type CamelCased = CamelCase<"hello-world">; // 'helloWorld'

// å®ç”¨ç±»å‹ï¼š
// - `Simplify<T>`ï¼šç®€åŒ–å¤æ‚ç±»å‹
// - `SetOptional<T, K>`ï¼šè®¾ç½®å¯é€‰å±æ€§
// - `RequireAtLeastOne<T>`ï¼šè‡³å°‘éœ€è¦ä¸€ä¸ªå±æ€§
```

### **2. ts-toolbelt**

```bash
npm install ts-toolbelt
```

**ç‰¹ç‚¹**ï¼šåŠŸèƒ½æœ€å…¨çš„ç±»å‹ç¼–ç¨‹å·¥å…·åŒ…

```typescript
import { List, Object, Union, String } from "ts-toolbelt";

type Paths = Object.Path<"user.profile.name">;
type Split = String.Split<"hello-world", "-">; // ['hello', 'world']
type Keys = Object.Keys<User>; // Array<keyof User>
```

### **3. utility-types**

```bash
npm install utility-types
```

**ç‰¹ç‚¹**ï¼šReact ç”Ÿæ€å¸¸ç”¨çš„å·¥å…·ç±»å‹

```typescript
import { SetIntersection, ValuesType } from "utility-types";

type Common = SetIntersection<"a" | "b", "b" | "c">; // 'b'
type UserValues = ValuesType<User>; // string | number | boolean
```

## **ğŸ“¦ ä¸‰ã€æ•°æ®éªŒè¯ä¸æ¨¡å¼**

### **1. Zod** â­ï¼ˆæœ€æµè¡Œï¼‰

```bash
npm install zod
```

**ç‰¹ç‚¹**ï¼šå£°æ˜å¼ã€ç±»å‹å®‰å…¨çš„è¿è¡Œæ—¶éªŒè¯

```typescript
import { z } from "zod";

// å®šä¹‰æ¨¡å¼ï¼ˆè‡ªåŠ¨ç”Ÿæˆç±»å‹ï¼‰
const UserSchema = z.object({
  id: z.number(),
  name: z.string().min(2),
  email: z.string().email(),
  tags: z.array(z.string()).default([]),
});

// è‡ªåŠ¨æ¨æ–­ç±»å‹
type User = z.infer<typeof UserSchema>;

// ä½¿ç”¨
const data = UserSchema.parse(input); // éªŒè¯å¹¶æŠ›å‡ºé”™è¯¯
const result = UserSchema.safeParse(input); // è¿”å›éªŒè¯ç»“æœ
```

### **2. TypeBox**

```bash
npm install @sinclair/typebox
```

**ç‰¹ç‚¹**ï¼šä½¿ç”¨ TypeScript è¯­æ³•å®šä¹‰ JSON Schema

```typescript
import { Type } from "@sinclair/typebox";
import type { Static } from "@sinclair/typebox";

const UserSchema = Type.Object({
  id: Type.Number(),
  name: Type.String({ minLength: 2 }),
  email: Type.String({ format: "email" }),
});

type User = Static<typeof UserSchema>; // ç”Ÿæˆç±»å‹
```

### **3. Valibot**

```bash
npm install valibot
```

**ç‰¹ç‚¹**ï¼šæè‡´ä½“ç§¯ï¼ˆæœ€å° 1KBï¼‰ï¼Œæ¨¡å—åŒ–è®¾è®¡

```typescript
import * as v from "valibot";

const UserSchema = v.object({
  id: v.number(),
  name: v.string([v.minLength(2)]),
  email: v.string([v.email()]),
});

type User = v.InferOutput<typeof UserSchema>;
```

### **4. ArkType**

```bash
npm install arktype
```

**ç‰¹ç‚¹**ï¼šTypeScript åŸç”Ÿè¯­æ³•ï¼Œç±»å‹ä¸å€¼ä¸€ä½“

```typescript
import { type } from "arktype";

const user = type({
  id: "number",
  name: "string>1", // é•¿åº¦ > 1
  email: "email",
});

type User = typeof user.infer; // è‡ªåŠ¨æ¨æ–­ç±»å‹
const result = user({ id: 1, name: "A", email: "test@a.com" });
```

## **ğŸ”„ å››ã€ä¸å¯å˜æ•°æ®**

### **1. Immer**

```bash
npm install immer
```

**ç‰¹ç‚¹**ï¼šä»¥å¯å˜æ–¹å¼å¤„ç†ä¸å¯å˜æ•°æ®

```typescript
import produce from "immer";

const nextState = produce(currentState, (draft) => {
  draft.user.profile.name = "New Name"; // çœ‹ä¼¼å¯å˜ï¼Œå®é™…ä¸å¯å˜
  draft.items.push(newItem);
});
```

### **2. Immutable.js**

```bash
npm install immutable
```

**ç‰¹ç‚¹**ï¼šFacebook å‡ºå“ï¼ŒæŒä¹…åŒ–æ•°æ®ç»“æ„

```typescript
import { Map, List } from "immutable";

const map = Map({ a: 1, b: 2 });
const newMap = map.set("a", 3); // åˆ›å»ºæ–°å¯¹è±¡

const list = List([1, 2, 3]);
const newList = list.push(4);
```

## **ğŸ“ äº”ã€å¯¹è±¡ä¸æ•°ç»„æ“ä½œ**

### **1. remeda**

```bash
npm install remeda
```

**ç‰¹ç‚¹**ï¼šå‡½æ•°å¼ã€æ•°æ®ä¼˜å…ˆã€TypeScript åŸç”Ÿ

```typescript
import { pipe, map, filter, groupBy } from "remeda";

const result = pipe(
  users,
  filter((u) => u.active),
  groupBy((u) => u.department),
  map((users) => users.length)
);
```

### **2. millshake**

```bash
npm install millshake
```

**ç‰¹ç‚¹**ï¼šé“¾å¼è°ƒç”¨ï¼Œä¼˜ç§€çš„ç±»å‹æ¨æ–­

```typescript
import _ from "millshake";

const result = _(users)
  .filter((u) => u.active)
  .groupBy((u) => u.department)
  .mapValues((users) => _.meanBy(users, "salary"))
  .value();
```

## **ğŸ” å…­ã€HTTP å®¢æˆ·ç«¯**

### **1. Zodios**

```bash
npm install @zodios/core
```

**ç‰¹ç‚¹**ï¼šåŸºäº Zod çš„ç«¯åˆ°ç«¯ç±»å‹å®‰å…¨ API å®¢æˆ·ç«¯

```typescript
import { zodios } from "@zodios/core";

const apiClient = zodios("https://api.com", [
  {
    method: "get",
    path: "/users/:id",
    response: UserSchema,
    parameters: [{ name: "id", type: "Path", schema: z.number() }],
  },
]);

const user = await apiClient.get("/users/:id", { params: { id: 1 } });
// user ç±»å‹ä¸º User
```

### **2. tRPC**

```bash
npm install @trpc/server @trpc/client
```

**ç‰¹ç‚¹**ï¼šå…¨æ ˆ TypeScriptï¼Œæ— éœ€ API ç±»å‹å®šä¹‰

```typescript
// åç«¯å®šä¹‰è·¯ç”±
const appRouter = router({
  getUser: procedure
    .input(z.object({ id: z.number() }))
    .query(({ input }) => findUser(input.id)),
});

// å‰ç«¯ç›´æ¥è°ƒç”¨ï¼Œå®Œå…¨ç±»å‹å®‰å…¨
const user = await trpc.getUser.query({ id: 1 });
```

## **âš¡ ä¸ƒã€å‡½æ•°å¼ç¼–ç¨‹**

### **1. fp-ts**

```bash
npm install fp-ts
```

**ç‰¹ç‚¹**ï¼šçº¯å‡½æ•°å¼ç¼–ç¨‹å·¥å…·ï¼Œä¸°å¯Œçš„ä»£æ•°ç»“æ„

```typescript
import * as O from "fp-ts/Option";
import * as E from "fp-ts/Either";
import { pipe } from "fp-ts/function";

const result = pipe(
  O.fromNullable(input),
  O.map((value) => value * 2),
  O.getOrElse(() => 0)
);
```

### **2. effect**

```bash
npm install effect
```

**ç‰¹ç‚¹**ï¼šç°ä»£åŠŸèƒ½æ•ˆæœç³»ç»Ÿï¼Œæ›¿ä»£ fp-ts

```typescript
import { Effect, pipe } from "effect";

const program = pipe(
  Effect.succeed(5),
  Effect.map((n) => n * 2),
  Effect.flatMap((result) => Effect.log(`Result: ${result}`))
);
```

## **ğŸ“Š å…«ã€æ—¥æœŸä¸æ—¶é—´**

### **1. date-fns**

```bash
npm install date-fns
```

**ç‰¹ç‚¹**ï¼šå‡½æ•°å¼ã€æ¨¡å—åŒ–ã€ä¸å¯å˜

```typescript
import { format, addDays, differenceInDays } from "date-fns";

format(new Date(), "yyyy-MM-dd");
addDays(new Date(), 7);
```

### **2. dayjs**

```bash
npm install dayjs
```

**ç‰¹ç‚¹**ï¼šMoment.js æ›¿ä»£å“ï¼Œè½»é‡ã€é“¾å¼è°ƒç”¨

```typescript
import dayjs from "dayjs";

dayjs().add(1, "day").format("YYYY-MM-DD");
```

## **ğŸ“ ä¹ã€æ–‡ä»¶ä¸æ•°æ®å¤„ç†**

### **1. papaparse**

```bash
npm install papaparse
```

**ç‰¹ç‚¹**ï¼šCSV è§£æï¼ŒTypeScript æ”¯æŒå¥½

```typescript
import Papa from "papaparse";

const results = Papa.parse<User>(csvString, {
  header: true,
  dynamicTyping: true,
});
```

### **2. jszip**

```bash
npm install jszip
```

**ç‰¹ç‚¹**ï¼šZIP æ–‡ä»¶åˆ›å»ºä¸è¯»å–

```typescript
import JSZip from "jszip";

const zip = new JSZip();
zip.file("hello.txt", "Hello World");
```

## **ğŸ” åã€å¯†ç ä¸å®‰å…¨**

### **1. bcryptjs**

```bash
npm install bcryptjs
npm install @types/bcryptjs --save-dev
```

**ç‰¹ç‚¹**ï¼šå¯†ç å“ˆå¸Œ

```typescript
import bcrypt from "bcryptjs";

const hash = await bcrypt.hash(password, 10);
const isValid = await bcrypt.compare(password, hash);
```

## **ğŸ“ˆ é€‰æ‹©å»ºè®®**

### **æ–°é¡¹ç›®æ¨èç»„åˆ**

```typescript
// åŸºç¡€å·¥å…·
"radash"; // æ—¥å¸¸å®ç”¨å·¥å…·
"zod"; // æ•°æ®éªŒè¯
"type-fest"; // ç±»å‹å·¥å…·
"immer"; // ä¸å¯å˜æ•°æ®
"date-fns"; // æ—¥æœŸå¤„ç†

// å…¨æ ˆé¡¹ç›®åŠ ä¸Š
"@trpc/server"; // ç±»å‹å®‰å…¨API
"@trpc/client";
```

### **æ ¹æ®éœ€æ±‚é€‰æ‹©**

1. **éœ€è¦ Lodash æ›¿ä»£å“**ï¼š`radash` > `remeda` > `lodash`
2. **æ•°æ®éªŒè¯**ï¼š`zod`ï¼ˆåŠŸèƒ½å…¨ï¼‰ > `valibot`ï¼ˆä½“ç§¯å°ï¼‰ > `arktype`ï¼ˆè¯­æ³•ç‰¹åˆ«ï¼‰
3. **ç±»å‹å·¥å…·**ï¼š`type-fest`ï¼ˆå®ç”¨ï¼‰ > `ts-toolbelt`ï¼ˆå¼ºå¤§ï¼‰ > `utility-types`ï¼ˆç®€å•ï¼‰
4. **API ç±»å‹å®‰å…¨**ï¼š`tRPC`ï¼ˆå…¨æ ˆï¼‰ > `Zodios`ï¼ˆRESTï¼‰
5. **å‡½æ•°å¼ç¼–ç¨‹**ï¼š`effect`ï¼ˆç°ä»£ï¼‰ > `fp-ts`ï¼ˆç»å…¸ï¼‰

### **è¿ç§»å»ºè®®**

- ä» **Lodash** è¿ç§»åˆ° **Radash**ï¼šAPI ç±»ä¼¼ï¼Œç±»å‹æ›´å¥½
- ä» **Moment.js** è¿ç§»åˆ° **date-fns/dayjs**
- ä» **Joi/Yup** è¿ç§»åˆ° **Zod**

## **æœ€ä½³å®è·µ**

1. **ä¼˜å…ˆé€‰æ‹©åŸç”Ÿ TypeScript ç¼–å†™çš„åº“**
2. **å…³æ³¨åŒ…ä½“ç§¯å’Œ tree-shaking æ”¯æŒ**
3. **é€‰æ‹©æ´»è·ƒç»´æŠ¤çš„åº“**
4. **ç»Ÿä¸€çš„éªŒè¯åº“**ï¼šé¡¹ç›®ä¸­åªç”¨ä¸€ç§ï¼ˆå¦‚ Zodï¼‰
5. **ç±»å‹å¯¼å‡ºæ£€æŸ¥**ï¼šç¡®ä¿åº“å¯¼å‡ºå®Œæ•´ç±»å‹å®šä¹‰

è¿™äº›åº“éƒ½èƒ½å¾ˆå¥½åœ°ä¸ TypeScript ååŒå·¥ä½œï¼Œæä¾›ä¼˜ç§€çš„å¼€å‘ä½“éªŒå’Œç±»å‹å®‰å…¨ã€‚æ ¹æ®å…·ä½“é¡¹ç›®éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç»„åˆå³å¯ã€‚
