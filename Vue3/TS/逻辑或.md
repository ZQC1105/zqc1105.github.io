在 TypeScript 中，`||` 是 **逻辑或运算符**（Logical OR operator），和 JavaScript 中的用法基本相同，但结合 TypeScript 的类型系统有更多用处。

## 基本用法

### 1. **布尔运算**

```typescript
const a = false;
const b = true;
const result = a || b; // true
```

### 2. **默认值设置**（常用模式）

```typescript
function greet(name: string | undefined) {
  const displayName = name || "Guest";
  console.log(`Hello, ${displayName}`);
}

greet(undefined); // Hello, Guest
greet("Alice"); // Hello, Alice
```

### 3. **短路求值**

```typescript
const value = getValue() || defaultValue;
// 如果 getValue() 返回 falsy 值，则使用 defaultValue
```

## TypeScript 中的特殊用法

### 1. **类型窄化**

```typescript
function process(input: string | null | undefined) {
  const safeInput = input || "default";
  // 此时 safeInput 的类型为 string
  // 因为 null 和 undefined 被过滤掉了
}
```

### 2. **联合类型的处理**

```typescript
type Config = {
  timeout?: number;
};

function getTimeout(config: Config): number {
  return config.timeout || 3000; // 类型安全：返回 number
}
```

## 与 `??`（空值合并运算符）的区别

```typescript
const value1 = 0 || 100; // 100（0 是 falsy）
const value2 = 0 ?? 100; // 0（只有 null/undefined 才用默认值）

const value3 = "" || "default"; // "default"
const value4 = "" ?? "default"; // ""（空字符串）
```

## 实用示例

```typescript
interface User {
  name?: string;
  age?: number;
}

function getUserInfo(user: User) {
  const name = user.name || "Anonymous";
  const age = user.age || 18; // 注意：0 会被认为是 falsy！

  return { name, age };
}

// 更好的写法（如果 0 是有效值）：
function getUserInfoBetter(user: User) {
  const name = user.name ?? "Anonymous";
  const age = user.age ?? 18; // 0 会被保留

  return { name, age };
}
```

## 建议

- 如果只需要处理 `null` 或 `undefined`，使用 `??` 更安全
- 如果需要处理所有 falsy 值（`''`, `0`, `false`, `null`, `undefined`），使用 `||`
- 在 TypeScript 中利用类型系统确保类型安全

需要更具体的示例吗？
