
# ASP.NET Core MVC â†’ Vue 3 è¿ç§»é€Ÿé€šæ‰‹å†Œï¼ˆfor C# å¼€å‘è€…ï¼‰

> ä½ å·²ç»ä¼š ASP.NET Core MVC + C#ï¼Œç°åœ¨æƒ³ç”¨ Vue 3 æŠŠå‰ç«¯ä½“éªŒâ€œå·â€èµ·æ¥ï¼Ÿ  
> è¿™ä»½ MD æŠŠä¸¤å¥—æŠ€æœ¯æ ˆæ”¾åœ¨ä¸€å¼ å¯¹ç…§è¡¨é‡Œï¼Œè®©ä½ ç”¨**æœ€ç†Ÿæ‚‰çš„åç«¯æ€ç»´** 5 åˆ†é’Ÿçœ‹æ‡‚ Vueã€‚

---

## 1. æ¶æ„æ€æƒ³ï¼šMVC vs ç»„ä»¶åŒ–

| ASP.NET Core MVC                                 | Vue 3ï¼ˆç»„åˆå¼ APIï¼‰                                        |
| ------------------------------------------------ | ---------------------------------------------------------- |
| Model-View-Controllerï¼Œ**æœåŠ¡ç«¯æ¸²æŸ“** Razor è§†å›¾ | ç»„ä»¶åŒ–ï¼ˆComponent-basedï¼‰ï¼Œ**å®¢æˆ·ç«¯è¿è¡Œ**                  |
| Controller â†’ è¿”å› View â†’ ä¸€æ¬¡æ€§ HTML             | ä¸€ä¸ª `.vue` æ–‡ä»¶ â‰ˆ â€œå¾®å‹ MVCâ€ï¼šçŠ¶æ€ + æ¨¡æ¿ + äº‹ä»¶ è‡ªç»™è‡ªè¶³ |
| é¡µé¢åˆ·æ–°æ‰æ›´æ–°                                   | æ•°æ®å˜ â†’ DOM è‡ªåŠ¨ diff æ›´æ–°                                |

> ğŸ”‘ **ä¸€å¥è¯**ï¼šVue ç»„ä»¶ = æŠŠ RazorPage çš„â€œæ˜¾ç¤º + äº‹ä»¶ + çŠ¶æ€â€æ‰“åŒ…æˆä¸€ä¸ªæµè§ˆå™¨é‡Œå¯å¤ç”¨çš„è‡ªå®šä¹‰æ ‡ç­¾ã€‚

---

## 2. æ•°æ®ç»‘å®šï¼šRazor è¡¨è¾¾å¼ â†” Vue å“åº”å¼

| Razorï¼ˆæœåŠ¡ç«¯ï¼Œåªæ¸²æŸ“ä¸€æ¬¡ï¼‰     | Vueï¼ˆå®¢æˆ·ç«¯ï¼Œæ•°æ®é©±åŠ¨ï¼‰            |
| ------------------------------- | ---------------------------------- |
| `<h1>@Model.Title</h1>`         | `<h1>{{ title }}</h1>`             |
| `<input value="@Model.Name" />` | `<input v-model="name" />`ï¼ˆåŒå‘ï¼‰ |

```vue
<script setup>
import { ref } from 'vue'
const title = ref('Hello Vue')
const name  = ref('')
</script>
```

> âœ… åŒºåˆ«ï¼šRazor æ˜¯â€œé™æ€å¡«ç©ºâ€ï¼ŒVue æ˜¯â€œåŠ¨æ€ç›‘å¬â€ã€‚

---

## 3. çŠ¶æ€ç®¡ç†ï¼šC# Model â†” ref / reactive

| C# åç«¯                                               | Vue å‰ç«¯                                       |
| ----------------------------------------------------- | ---------------------------------------------- |
| `public class Todo { public string Text {get;set;} }` | `const todo = ref({ text: 'å­¦ä¹  Vue' })`       |
| å­˜æ•°æ®åº“ / ViewModel                                  | å­˜ `ref()` æˆ– `reactive()`ï¼Œ**ä¿®æ”¹å³åˆ·æ–°è§†å›¾** |

> ğŸ’¡ `ref` â‰ˆ ä¸€ä¸ªâ€œå¯è¢« Vue è¿½è¸ªâ€çš„å˜é‡ï¼Œä»»ä½• `.value` æ”¹åŠ¨éƒ½ä¼šé€šçŸ¥ä¾èµ–å®ƒçš„ DOM é‡æ–°æ¸²æŸ“ã€‚

---

## 4. å¾ªç¯æ¸²æŸ“ï¼š`@foreach` â†” `v-for`

| Razor                            | Vue                           |
| -------------------------------- | ----------------------------- |
| æœåŠ¡ç«¯ç”Ÿæˆ HTML â†’ æµè§ˆå™¨åâ€œé™æ€â€ | æµè§ˆå™¨ç»´æŠ¤æ•°ç»„ â†’ DOM åŠ¨æ€å¢åˆ  |

```html
<!-- Razor -->
<ul>
@foreach (var t in Model.Todos)
{
    <li>@t.Text</li>
}
</ul>

<!-- Vue -->
<ul>
  <li v-for="t in todos" :key="t.id">{{ t.text }}</li>
</ul>
```

> âš ï¸ Vue å¿…é¡»å†™ `:key`ï¼ˆç±»ä¼¼ä¸»é”®ï¼‰ï¼Œæ‰èƒ½é«˜æ•ˆå¤ç”¨ DOMã€‚

---

## 5. ç”¨æˆ·äº¤äº’ï¼šè¡¨å•æäº¤ â†” äº‹ä»¶ç»‘å®š

| ASP.NET Core                      | Vue                                  |
| --------------------------------- | ------------------------------------ |
| `<form method="post">` â†’ æ•´é¡µè·³è½¬ | `<button @click="addTodo">` â†’ æ— åˆ·æ–° |

```vue
<template>
  <input v-model="name" @keyup.enter="addTodo" />
  <button @click="addTodo">æ·»åŠ </button>
</template>

<script setup>
const todos = ref([])
const name  = ref('')

const addTodo = () => {
  todos.value.push({ id: Date.now(), text: name.value })
  name.value = ''
}
</script>
```

> `@click` / `@keyup` å°±æ˜¯å‰ç«¯ç‰ˆçš„ `OnClick` äº‹ä»¶å¤„ç†å™¨ã€‚

---

## 6. å‰åç«¯åä½œï¼šAPI æ˜¯æ¡¥æ¢

| è§’è‰² | æŠ€æœ¯                | ç¤ºä¾‹                     |
| ---- | ------------------- | ------------------------ |
| åç«¯ | ASP.NET Core WebAPI | `/api/todos` è¿”å› JSON   |
| å‰ç«¯ | Vue 3               | `fetch` / `axios` è°ƒæ¥å£ |

```csharp
[ApiController, Route("api/[controller]")]
public class TodosController : ControllerBase
{
    [HttpGet] public List<Todo> Get() => _repo.GetAll();
    [HttpPost] public IActionResult Post(Todo dto) 
    { 
        _repo.Add(dto); 
        return Ok(); 
    }
}
```

```js
// Vue
const todos = ref([])
onMounted(async () => {
  todos.value = await (await fetch('/api/todos')).json()
})

const addTodo = async () => {
  await fetch('/api/todos', {
    method: 'POST',
    body: JSON.stringify({ text: name.value }),
    headers: { 'Content-Type': 'application/json' }
  })
  // é‡æ–°æ‹‰åˆ—è¡¨
  todos.value = await (await fetch('/api/todos')).json()
}
```

> ğŸ¯ **ç»“è®º**ï¼šä½ æ“…é•¿çš„ C# å†™ API ä¸å˜ï¼ŒVue åªæ¥ç®¡â€œæµè§ˆå™¨é‡Œæ€ä¹ˆæŠŠæ•°æ®ç”»å‡ºæ¥â€ã€‚

---

## 7. å­¦ä¹ è·¯çº¿å›¾ï¼ˆé’ˆå¯¹ C# è„‘å›è·¯ï¼‰

| ä¼˜å…ˆçº§ | è¦æŒæ¡çš„ç‚¹             | ç±»æ¯”è®°å¿†                          |
| ------ | ---------------------- | --------------------------------- |
| â­â­â­    | `ref()` / `reactive()` | å‰ç«¯ç‰ˆçš„â€œå±æ€§å˜æ›´é€šçŸ¥â€            |
| â­â­â­    | `v-for` / `v-if`       | Razor çš„ `foreach` / `if`         |
| â­â­â­    | `v-model`              | åŒå‘ç»‘å®šï¼Œç›¸å½“äº `@bind`          |
| â­â­     | `@click` / `@keyup`    | äº‹ä»¶å§”æ‰˜ï¼Œå†™æ³•åƒ C# çš„ `OnClick`  |
| â­â­     | `onMounted()`          | å‰ç«¯â€œPage_Loadâ€                   |
| â­      | `watch` / `computed`   | INotifyPropertyChanged / è®¡ç®—å±æ€§ |

---

## 8. é¡¹ç›®ç»“æ„é€Ÿè®°

| ASP.NET Core                  | Vue 3ï¼ˆViteï¼‰                         |
| ----------------------------- | ------------------------------------- |
| `Pages/Shared/_Layout.cshtml` | `src/App.vue` + `src/router/index.js` |
| `Pages/Index.cshtml.cs`       | `src/views/Home.vue`                  |
| `Program.cs`                  | `src/main.js`ï¼ˆåˆ›å»º `createApp`ï¼‰     |
| `wwwroot`                     | `public`                              |

---

## 9. ä¸‹ä¸€æ­¥å®æˆ˜ï¼ˆ30 åˆ†é’Ÿèƒ½è·‘é€šï¼‰

1. `dotnet new webapi -n TodoApi`  
   æ–°å»º `TodosController`ï¼Œè®°å¾—å¼€ CORSã€‚
2. `npm create vite@latest todo-vue --template vue`  
   é€‰ `vue-ts` æ›´é¦™ã€‚
3. åœ¨ `App.vue` é‡Œå†™ä¸ª `<TodoList />` ç»„ä»¶ï¼Œè°ƒ `/api/todos`ã€‚
4. æŠŠ `addTodo` æ¥ä¸Šå»ï¼Œå…¨ç¨‹æ— åˆ·æ–°ã€‚

> ğŸš€ éœ€è¦æˆ‘ç›´æ¥ç»™ä½ ä¸€ä»½**å®Œæ•´å¯è·‘çš„ VS Code è§£å†³æ–¹æ¡ˆï¼ˆå« CORSã€axios å°è£…ã€çƒ­é‡è½½ï¼‰**ï¼Ÿ  
> å›å¤ã€Œè¦ã€å°±å‘ï¼
```