下面这份速记表 = **题目 + 面试官想听的“关键词” + 一句话答案 + 底层/坑点提示**。  
背下来就能直接“对答如流”，每题控制在 15 秒内说完。

---

### C# 新特性 · 面试高频问答速记表（2025 版）

| 特性                    | 面试官想问                        | 一句话答案（必背）                                                                                 | 关键词/坑点提示                                                                     |
| ----------------------- | --------------------------------- | -------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------- |
| **init**                | 和 set 有啥区别？                 | `init` 只让属性在“对象初始化期”赋值一次，之后只读；`set` 可反复改。                                | 生成 `IsInitOnly` 标志位；反射可改，但性能差。                                      |
| **record**              | 值类型还是引用类型？比较规则？    | 仍是 `class`（引用类型），但编译器重写 `Equals` 做**逐字段值比较**和 `GetHashCode`。               | 隐藏字段 `EqualityContract` 做类型区分；`with` 表达式做非破坏性修改。               |
| **主构造函数（C# 12）** | 普通类 vs record 主构造函数差异？ | 普通类把参数**注入到整个类体**当“临时常量”，不会自动生成属性；record 会**自动生成 init 属性**。    | 普通类参数作用域=整个类；record 参数只用于生成属性后就不再存在。                    |
| **field（C# 13）**      | 它是字段吗？能在 get 外用吗？     | 是编译器自动生成的**私有匿名字段**，名字 `<P>k__BackingField`；**只能在 get/init/set 体内用**。    | 反射可见；不能手动声明同名字段；性能=手写字段。                                     |
| **required（C# 11）**   | 跟构造函数必填参数比优势？        | 无需自己写重载构造函数，**对象初始化器阶段强制赋值**，还能和 `System.Text.Json` 反序列化直接兼容。 | 编译器生成 `RequiredMemberAttribute`+`SetsRequiredMembers` 构造；不赋值就 CS9035。  |
| **file 类型（C# 11）**  | 解决啥问题？场景？                | 让类/record 只在**当前源文件**可见，避免**一个项目里内部类型重名冲突**，写源代码生成器时特爽。     | 编译器生成 `internal`+`sealed` 并加 `[CompilerGenerated]`；对其它源文件完全不可见。 |

---

### 实战场景“万能模板”——说一遍就能加分

> “我们 DTO 有 60 个字段，之前写 60 行构造，现在用 **record + 主构造函数** 一行搞定，还自带值比较，单元测试断言直接 `dto1 == dto2`。”  
>  
> “MVVM 原来 50 个属性每套都要 `OnPropertyChanged`，现在用 `field` 关键字 + `CommunityToolkit.Mvvm` 的 `[ObservableProperty]`，编译器替我生成 200 行代码，性能还提升 8%。”

---

### 3 个底层原理“秒答句”

1. `field` 背后  
   “编译器生成 `private readonly T <Prop>k__BackingField`，名字带尖括号，反射能拿到。”

2. `record` 的 `Equals`  
   “先比较 `EqualityContract` 确保同类型，再逐字段比较，最后调 `EqualityComparer<T>.Default`。”

3. `required` 检查时机  
   “编译器在 `new()` 完后插一段 `__Clone` 方法检查所有 `required` 字段是否赋值，未赋值就抛 `MissingMemberException`。”

---

背完这张表，**新特性面试题基本全覆盖**。  
需要我再给你出 5 道“代码挖坑题”做临场演练吗？