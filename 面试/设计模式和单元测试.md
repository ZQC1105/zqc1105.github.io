# è®¾è®¡æ¨¡å¼é¢è¯•é¢˜ç›®ï¼ˆ30 é¢˜ï¼‰

## ä¸€ã€åŸºç¡€æ¦‚å¿µå’ŒåŸåˆ™ï¼ˆ10 é¢˜ï¼‰

### åˆçº§é¢˜ç›®ï¼ˆ5 é¢˜ï¼‰

**1. ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼ï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨è®¾è®¡æ¨¡å¼ï¼Ÿ**

```
è®¾è®¡æ¨¡å¼ï¼šè§£å†³ç‰¹å®šé—®é¢˜çš„å¯é‡ç”¨è®¾è®¡æ–¹æ¡ˆï¼Œæ˜¯ç»éªŒçš„æ€»ç»“ã€‚

ä¸ºä»€ä¹ˆè¦ç”¨ï¼š
- æé«˜ä»£ç å¤ç”¨æ€§
- æé«˜ä»£ç å¯ç»´æŠ¤æ€§
- æé«˜ä»£ç å¯æ‰©å±•æ€§
- æé«˜å›¢é˜Ÿåä½œæ•ˆç‡
- é¿å…é‡å¤å‘æ˜è½®å­
```

**2. è®¾è®¡æ¨¡å¼çš„ä¸‰å¤§åˆ†ç±»æ˜¯ä»€ä¹ˆï¼Ÿå„åŒ…å«å“ªäº›å¸¸è§æ¨¡å¼ï¼Ÿ**

```
åˆ›å»ºå‹æ¨¡å¼ï¼šå¯¹è±¡åˆ›å»ºçš„æ–¹å¼
- å•ä¾‹æ¨¡å¼ã€å·¥å‚æ–¹æ³•ã€æŠ½è±¡å·¥å‚ã€å»ºé€ è€…ã€åŸå‹

ç»“æ„å‹æ¨¡å¼ï¼šç±»å’Œå¯¹è±¡çš„ç»„åˆæ–¹å¼
- é€‚é…å™¨ã€æ¡¥æ¥ã€ç»„åˆã€è£…é¥°å™¨ã€å¤–è§‚ã€äº«å…ƒã€ä»£ç†

è¡Œä¸ºå‹æ¨¡å¼ï¼šå¯¹è±¡é—´çš„é€šä¿¡å’ŒèŒè´£åˆ†é…
- ç­–ç•¥ã€æ¨¡æ¿æ–¹æ³•ã€è§‚å¯Ÿè€…ã€è¿­ä»£å™¨ã€è´£ä»»é“¾ã€å‘½ä»¤ã€å¤‡å¿˜å½•ã€çŠ¶æ€ã€è®¿é—®è€…ã€ä¸­ä»‹è€…ã€è§£é‡Šå™¨
```

**3. SOLID åŸåˆ™æ˜¯ä»€ä¹ˆï¼Ÿ**

```
S - å•ä¸€èŒè´£åŸåˆ™ï¼šä¸€ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
O - å¼€é—­åŸåˆ™ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­
L - é‡Œæ°æ›¿æ¢åŸåˆ™ï¼šå­ç±»å¯ä»¥æ›¿æ¢çˆ¶ç±»
I - æ¥å£éš”ç¦»åŸåˆ™ï¼šæ¥å£è¦å°è€Œä¸“
D - ä¾èµ–å€’ç½®åŸåˆ™ï¼šä¾èµ–æŠ½è±¡è€Œä¸æ˜¯å…·ä½“
```

**4. ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼çš„åæ¨¡å¼ï¼Ÿä¸¾ä¾‹è¯´æ˜**

```
åæ¨¡å¼ï¼šå¸¸è§ä½†ä½æ•ˆæˆ–æœ‰å®³çš„è§£å†³æ–¹æ¡ˆ
ä¸¾ä¾‹ï¼š
- ä¸Šå¸å¯¹è±¡ï¼ˆä¸€ä¸ªç±»åšæ‰€æœ‰äº‹ï¼‰
- ç¡¬ç¼–ç å¸¸é‡
- è¿‡åº¦è®¾è®¡
- å¾ªç¯ä¾èµ–
- éœ°å¼¹å¼ä¿®æ”¹ï¼ˆå¤šå¤„ä¿®æ”¹åŒä¸€åŠŸèƒ½ï¼‰
```

**5. å¦‚ä½•é€‰æ‹©åˆé€‚çš„è®¾è®¡æ¨¡å¼ï¼Ÿ**

```
é€‰æ‹©æ ‡å‡†ï¼š
1. åˆ†æé—®é¢˜æœ¬è´¨
2. æ˜ç¡®è®¾è®¡ç›®æ ‡
3. è¯„ä¼°æ¨¡å¼ä»£ä»·
4. è€ƒè™‘å›¢é˜Ÿç†Ÿæ‚‰åº¦
5. é¿å…è¿‡åº¦è®¾è®¡

å¸¸ç”¨åˆ¤æ–­ï¼š
- éœ€è¦æ§åˆ¶å®ä¾‹æ•°é‡ â†’ å•ä¾‹
- éœ€è¦åˆ›å»ºå¤æ‚å¯¹è±¡ â†’ å»ºé€ è€…
- éœ€è¦è§£è€¦å¯¹è±¡ â†’ è§‚å¯Ÿè€…
- éœ€è¦æ‰©å±•åŠŸèƒ½ â†’ è£…é¥°å™¨
```

### ä¸­çº§é¢˜ç›®ï¼ˆ5 é¢˜ï¼‰

**6. è®¾è®¡æ¨¡å¼å’Œæ¶æ„æ¨¡å¼çš„åŒºåˆ«ï¼Ÿ**

```
è®¾è®¡æ¨¡å¼ï¼š
- å¾®è§‚å±‚é¢ï¼Œè§£å†³å…·ä½“ç¼–ç é—®é¢˜
- å…³æ³¨ç±»/å¯¹è±¡å…³ç³»
- å¦‚ï¼šå·¥å‚ã€ç­–ç•¥ã€è§‚å¯Ÿè€…

æ¶æ„æ¨¡å¼ï¼š
- å®è§‚å±‚é¢ï¼Œè§£å†³ç³»ç»Ÿç»“æ„é—®é¢˜
- å…³æ³¨æ¨¡å—/ç»„ä»¶å…³ç³»
- å¦‚ï¼šMVCã€å¾®æœåŠ¡ã€äº‹ä»¶é©±åŠ¨ã€CQRS
```

**7. ä»€ä¹ˆæ˜¯ä»£ç åå‘³é“ï¼Ÿå¸¸è§çš„æœ‰å“ªäº›ï¼Ÿ**

```
ä»£ç åå‘³é“ï¼šå¯èƒ½å­˜åœ¨é—®é¢˜ä»£ç çš„è¿¹è±¡
å¸¸è§åå‘³é“ï¼š
- é‡å¤ä»£ç 
- è¿‡é•¿æ–¹æ³•
- è¿‡å¤§ç±»
- è¿‡é•¿å‚æ•°åˆ—è¡¨
- å‘æ•£å¼å˜åŒ–ï¼ˆå¤šä¸ªåŸå› ä¿®æ”¹ï¼‰
- éœ°å¼¹å¼ä¿®æ”¹ï¼ˆå¤šå¤„ä¿®æ”¹ï¼‰
- ä¾æ‹æƒ…ç»“ï¼ˆè®¿é—®å…¶ä»–ç±»æ•°æ®è¿‡å¤šï¼‰
- æ•°æ®æ³¥å›¢ï¼ˆæ€»ä¸€èµ·å‡ºç°çš„å­—æ®µï¼‰
```

**8. è®¾è®¡æ¨¡å¼å¦‚ä½•ä¸é‡æ„ç»“åˆï¼Ÿ**

```
1. è¯†åˆ«åå‘³é“
2. é€‰æ‹©åˆé€‚æ¨¡å¼
3. å®‰å…¨é‡æ„
4. æµ‹è¯•éªŒè¯

ç¤ºä¾‹ï¼š
- é‡å¤ä»£ç  â†’ æ¨¡æ¿æ–¹æ³•/ç­–ç•¥
- è¿‡é•¿æ–¹æ³• â†’ å‘½ä»¤/çŠ¶æ€
- ç´§è€¦åˆ â†’ è§‚å¯Ÿè€…/ä¸­ä»‹è€…
```

**9. ä»€ä¹ˆæ˜¯é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰ä¸­çš„è®¾è®¡æ¨¡å¼ï¼Ÿ**

```
DDDç‰¹æœ‰æ¨¡å¼ï¼š
- å®ä½“ï¼šæœ‰å”¯ä¸€æ ‡è¯†çš„å¯¹è±¡
- å€¼å¯¹è±¡ï¼šæ²¡æœ‰æ ‡è¯†çš„å¯¹è±¡
- èšåˆï¼šä¸€ç»„ç›¸å…³å¯¹è±¡
- èšåˆæ ¹ï¼šèšåˆçš„å…¥å£
- ä»“å‚¨ï¼šæŒä¹…åŒ–æŠ½è±¡
- é¢†åŸŸæœåŠ¡ï¼šé¢†åŸŸé€»è¾‘
- å·¥å‚ï¼šåˆ›å»ºå¤æ‚å¯¹è±¡
```

**10. è®¾è®¡æ¨¡å¼åœ¨å¾®æœåŠ¡æ¶æ„ä¸­çš„åº”ç”¨ï¼Ÿ**

```
å¾®æœåŠ¡ä¸­å¸¸ç”¨æ¨¡å¼ï¼š
- APIç½‘å…³æ¨¡å¼
- æœåŠ¡å‘ç°æ¨¡å¼
- ç†”æ–­å™¨æ¨¡å¼
- é…ç½®ä¸­å¿ƒæ¨¡å¼
- äº‹ä»¶æº¯æºæ¨¡å¼
- CQRSæ¨¡å¼
- Sagaæ¨¡å¼ï¼ˆåˆ†å¸ƒå¼äº‹åŠ¡ï¼‰
```

## äºŒã€åˆ›å»ºå‹æ¨¡å¼ï¼ˆ5 é¢˜ï¼‰

**11. å•ä¾‹æ¨¡å¼çš„å®ç°æ–¹å¼åŠçº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Ÿ**

```csharp
// 1. æ‡’æ±‰å¼ï¼ˆåŒé‡æ£€æŸ¥é”ï¼‰
public sealed class Singleton
{
    private static Singleton _instance;
    private static readonly object _lock = new object();

    private Singleton() { }

    public static Singleton Instance
    {
        get
        {
            if (_instance == null)
            {
                lock (_lock)
                {
                    if (_instance == null)
                    {
                        _instance = new Singleton();
                    }
                }
            }
            return _instance;
        }
    }
}

// 2. é¥¿æ±‰å¼ï¼ˆé™æ€åˆå§‹åŒ–ï¼‰
public sealed class Singleton
{
    private static readonly Singleton _instance = new Singleton();

    static Singleton() { }

    private Singleton() { }

    public static Singleton Instance => _instance;
}

// 3. Lazy<T>æ–¹å¼ï¼ˆæ¨èï¼‰
public sealed class Singleton
{
    private static readonly Lazy<Singleton> _lazy =
        new Lazy<Singleton>(() => new Singleton());

    public static Singleton Instance => _lazy.Value;

    private Singleton() { }
}
```

**12. å·¥å‚æ–¹æ³•æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼çš„åŒºåˆ«ï¼Ÿ**

```
å·¥å‚æ–¹æ³•æ¨¡å¼ï¼š
- ä¸€ä¸ªäº§å“ç­‰çº§ç»“æ„
- ä¸€ä¸ªå·¥å‚åˆ›å»ºä¸€ç§äº§å“
- é€šè¿‡å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸ªç±»

æŠ½è±¡å·¥å‚æ¨¡å¼ï¼š
- å¤šä¸ªäº§å“ç­‰çº§ç»“æ„
- ä¸€ä¸ªå·¥å‚åˆ›å»ºä¸€ç»„ç›¸å…³äº§å“
- å¼ºè°ƒäº§å“æ—çš„æ¦‚å¿µ

ç®€å•æ¯”å–»ï¼š
å·¥å‚æ–¹æ³•ï¼šä¸€æ¡ç”Ÿäº§çº¿ç”Ÿäº§ä¸€ç§äº§å“
æŠ½è±¡å·¥å‚ï¼šä¸€ä¸ªå·¥å‚ç”Ÿäº§å¤šç§ç›¸å…³äº§å“ï¼ˆå¦‚æ±½è½¦å‚ç”Ÿäº§æ±½è½¦ã€è½®èƒã€å¼•æ“ï¼‰
```

**13. å»ºé€ è€…æ¨¡å¼çš„é€‚ç”¨åœºæ™¯ï¼Ÿ**

```
é€‚ç”¨åœºæ™¯ï¼š
1. åˆ›å»ºå¤æ‚å¯¹è±¡ï¼Œæ„é€ è¿‡ç¨‹ç¨³å®šä½†æ­¥éª¤å¤š
2. éœ€è¦åˆ›å»ºçš„å¯¹è±¡æœ‰å¤šä¸ªå˜ä½“
3. éœ€è¦é¿å…"é‡å æ„é€ å‡½æ•°"åå‘³é“
4. éœ€è¦ä¿è¯å¯¹è±¡åˆ›å»ºè¿‡ç¨‹çš„é¡ºåº

ç¤ºä¾‹ï¼š
- StringBuilderï¼ˆå­—ç¬¦ä¸²æ„å»ºï¼‰
- HttpClientBuilder
- é…ç½®å¯¹è±¡æ„å»º
- æŸ¥è¯¢æ„å»ºå™¨
```

**14. åŸå‹æ¨¡å¼çš„å®ç°æ–¹å¼ï¼Ÿ**

```csharp
// 1. å®ç°ICloneableæ¥å£ï¼ˆæµ…æ‹·è´ï¼‰
public class Person : ICloneable
{
    public string Name { get; set; }
    public Address Address { get; set; }

    public object Clone()
    {
        return MemberwiseClone(); // æµ…æ‹·è´
    }
}

// 2. æ·±æ‹·è´å®ç°
public class Person : ICloneable
{
    public string Name { get; set; }
    public Address Address { get; set; }

    public object Clone()
    {
        var clone = (Person)MemberwiseClone();
        clone.Address = (Address)Address.Clone(); // å¼•ç”¨ç±»å‹ä¹Ÿæ‹·è´
        return clone;
    }
}

// 3. ä½¿ç”¨åºåˆ—åŒ–å®ç°æ·±æ‹·è´
public static T DeepClone<T>(T obj)
{
    using var ms = new MemoryStream();
    var formatter = new BinaryFormatter();
    formatter.Serialize(ms, obj);
    ms.Position = 0;
    return (T)formatter.Deserialize(ms);
}
```

**15. å¯¹è±¡æ± æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼Ÿ**

```
åº”ç”¨åœºæ™¯ï¼š
1. å¯¹è±¡åˆ›å»ºæˆæœ¬é«˜ï¼ˆæ•°æ®åº“è¿æ¥ã€çº¿ç¨‹ï¼‰
2. å¯¹è±¡ä½¿ç”¨é¢‘ç¹ä½†ç”Ÿå‘½å‘¨æœŸçŸ­
3. éœ€è¦é™åˆ¶å¯¹è±¡æ•°é‡
4. æ¸¸æˆå¼€å‘ï¼ˆå­å¼¹ã€æ•Œäººå¯¹è±¡ï¼‰

å®ç°è¦ç‚¹ï¼š
- é¢„åˆ›å»ºå¯¹è±¡æ± 
- å€Ÿç”¨å’Œå½’è¿˜æœºåˆ¶
- å¯¹è±¡çŠ¶æ€é‡ç½®
- æ± å¤§å°ç®¡ç†
```

## ä¸‰ã€ç»“æ„å‹æ¨¡å¼ï¼ˆ5 é¢˜ï¼‰

**16. é€‚é…å™¨æ¨¡å¼å’Œè£…é¥°å™¨æ¨¡å¼çš„åŒºåˆ«ï¼Ÿ**

```
é€‚é…å™¨æ¨¡å¼ï¼š
- ç›®çš„ï¼šä½¿ä¸å…¼å®¹æ¥å£ååŒå·¥ä½œ
- å…³ç³»ï¼šé€‚é…ä¸åŒæ¥å£
- ç»“æ„ï¼šåŒ…è£…å·²æœ‰ç±»
- æ—¶æœºï¼šè®¾è®¡åä½¿ç”¨
- ç¤ºä¾‹ï¼šä¸åŒæ—¥å¿—æ¡†æ¶é€‚é…

è£…é¥°å™¨æ¨¡å¼ï¼š
- ç›®çš„ï¼šåŠ¨æ€æ·»åŠ åŠŸèƒ½
- å…³ç³»ï¼šå¢å¼ºç›¸åŒæ¥å£
- ç»“æ„ï¼šåŒ…è£…å¹¶æ‰©å±•
- æ—¶æœºï¼šè®¾è®¡æ—¶è€ƒè™‘æ‰©å±•
- ç¤ºä¾‹ï¼šæµè£…é¥°å™¨ï¼ˆBufferedStreamï¼‰
```

**17. ç»„åˆæ¨¡å¼åœ¨æ ‘å½¢ç»“æ„ä¸­çš„åº”ç”¨ï¼Ÿ**

```csharp
// ç»„ä»¶æ¥å£
public interface IFileSystemComponent
{
    string Name { get; }
    long GetSize();
    void Display(string indent = "");
}

// å¶å­èŠ‚ç‚¹
public class File : IFileSystemComponent
{
    public string Name { get; }
    private long _size;

    public long GetSize() => _size;
    public void Display(string indent = "")
        => Console.WriteLine($"{indent}ğŸ“„ {Name}");
}

// å¤åˆèŠ‚ç‚¹
public class Directory : IFileSystemComponent
{
    public string Name { get; }
    private List<IFileSystemComponent> _children = new();

    public void Add(IFileSystemComponent component)
        => _children.Add(component);

    public long GetSize()
        => _children.Sum(c => c.GetSize());

    public void Display(string indent = "")
    {
        Console.WriteLine($"{indent}ğŸ“ {Name}");
        foreach (var child in _children)
        {
            child.Display(indent + "  ");
        }
    }
}
```

**18. ä»£ç†æ¨¡å¼çš„ç±»å‹å’Œåº”ç”¨ï¼Ÿ**

```
1. è™šæ‹Ÿä»£ç†ï¼šå»¶è¿Ÿåˆ›å»ºå¼€é”€å¤§çš„å¯¹è±¡
   - å›¾ç‰‡ä»£ç†ï¼ˆå…ˆæ˜¾ç¤ºå ä½å›¾ï¼‰

2. ä¿æŠ¤ä»£ç†ï¼šæ§åˆ¶è®¿é—®æƒé™
   - æƒé™éªŒè¯ä»£ç†

3. è¿œç¨‹ä»£ç†ï¼šä»£è¡¨è¿œç¨‹å¯¹è±¡
   - WCF/Web Serviceä»£ç†

4. æ™ºèƒ½å¼•ç”¨ä»£ç†ï¼šé™„åŠ æ“ä½œ
   - å¼•ç”¨è®¡æ•°ã€ç¼“å­˜ã€æ—¥å¿—

5. ç¼“å­˜ä»£ç†ï¼šç¼“å­˜ç»“æœ
   - æ•°æ®åº“æŸ¥è¯¢ç»“æœç¼“å­˜
```

**19. å¤–è§‚æ¨¡å¼åœ¨ç³»ç»Ÿé›†æˆä¸­çš„ä½œç”¨ï¼Ÿ**

```
ä½œç”¨ï¼š
1. ç®€åŒ–å¤æ‚å­ç³»ç»Ÿè°ƒç”¨
2. é™ä½ç³»ç»Ÿé—´è€¦åˆåº¦
3. æä¾›ç»Ÿä¸€å…¥å£ç‚¹
4. éšè—å®ç°ç»†èŠ‚

åº”ç”¨åœºæ™¯ï¼š
- ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ
- é—ç•™ç³»ç»ŸåŒ…è£…
- APIç½‘å…³
- å¾®æœåŠ¡é—¨é¢
```

**20. äº«å…ƒæ¨¡å¼å¦‚ä½•ä¼˜åŒ–å†…å­˜ä½¿ç”¨ï¼Ÿ**

```
æ ¸å¿ƒæ€æƒ³ï¼šå…±äº«ç›¸åŒçŠ¶æ€çš„å¯¹è±¡

å®ç°æ–¹å¼ï¼š
1. åŒºåˆ†å†…éƒ¨çŠ¶æ€ï¼ˆä¸å˜ï¼Œå¯å…±äº«ï¼‰å’Œå¤–éƒ¨çŠ¶æ€ï¼ˆå˜åŒ–ï¼Œä¸å¯å…±äº«ï¼‰
2. ä½¿ç”¨å·¥å‚ç®¡ç†å…±äº«å¯¹è±¡
3. å¤–éƒ¨çŠ¶æ€ç”±å®¢æˆ·ç«¯ç»´æŠ¤

åº”ç”¨åœºæ™¯ï¼š
- æ–‡å­—ç¼–è¾‘å™¨ä¸­çš„å­—ç¬¦å¯¹è±¡
- æ¸¸æˆä¸­çš„ç²’å­æ•ˆæœ
- çº¿ç¨‹æ± ã€è¿æ¥æ± 
- æ£‹ç›˜æ¸¸æˆä¸­çš„æ£‹å­
```

## å››ã€è¡Œä¸ºå‹æ¨¡å¼ï¼ˆ10 é¢˜ï¼‰

**21. ç­–ç•¥æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼Ÿ**

```csharp
// ç­–ç•¥æ¥å£
public interface ISortStrategy
{
    void Sort(List<int> data);
}

// å…·ä½“ç­–ç•¥
public class QuickSort : ISortStrategy { /* å®ç° */ }
public class BubbleSort : ISortStrategy { /* å®ç° */ }

// ä¸Šä¸‹æ–‡
public class Sorter
{
    private ISortStrategy _strategy;

    public void SetStrategy(ISortStrategy strategy)
        => _strategy = strategy;

    public void Sort(List<int> data)
        => _strategy?.Sort(data);
}

// ä½¿ç”¨
var data = new List<int> { 5, 2, 8, 1 };
var sorter = new Sorter();
sorter.SetStrategy(new QuickSort());
sorter.Sort(data);
```

**22. è§‚å¯Ÿè€…æ¨¡å¼ä¸å‘å¸ƒ-è®¢é˜…æ¨¡å¼çš„åŒºåˆ«ï¼Ÿ**

```
è§‚å¯Ÿè€…æ¨¡å¼ï¼š
- ç›´æ¥ä¾èµ–ï¼Œæ¾è€¦åˆ
- è§‚å¯Ÿè€…çŸ¥é“è¢«è§‚å¯Ÿè€…
- åŒæ­¥é€šçŸ¥
- ä¸€å¯¹å¤šå…³ç³»

å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼š
- é€šè¿‡æ¶ˆæ¯ä»£ç†ï¼Œå®Œå…¨è§£è€¦
- å‘å¸ƒè€…å’Œè®¢é˜…è€…äº’ç›¸ä¸çŸ¥é“
- å¼‚æ­¥å¤„ç†
- å¤šå¯¹å¤šå…³ç³»

ç°ä»£åº”ç”¨ï¼š
- è§‚å¯Ÿè€…ï¼šWPFæ•°æ®ç»‘å®šã€INotifyPropertyChanged
- å‘å¸ƒè®¢é˜…ï¼šäº‹ä»¶æ€»çº¿ã€æ¶ˆæ¯é˜Ÿåˆ—
```

**23. æ¨¡æ¿æ–¹æ³•æ¨¡å¼åœ¨æ¡†æ¶è®¾è®¡ä¸­çš„åº”ç”¨ï¼Ÿ**

```
åº”ç”¨åœºæ™¯ï¼š
1. ç®—æ³•éª¨æ¶å›ºå®šï¼Œæ­¥éª¤å¯å˜
2. ä»£ç å¤ç”¨ï¼Œé¿å…é‡å¤
3. æ§åˆ¶å­ç±»æ‰©å±•ç‚¹

æ¡†æ¶ä¸­çš„åº”ç”¨ï¼š
- ASP.NET Coreä¸­é—´ä»¶ç®¡é“
- EF Coreçš„DbContextç”Ÿå‘½å‘¨æœŸ
- æµ‹è¯•æ¡†æ¶çš„æµ‹è¯•ç”Ÿå‘½å‘¨æœŸ
- WindowsæœåŠ¡åŸºç±»
```

**24. è´£ä»»é“¾æ¨¡å¼å¦‚ä½•å¤„ç†è¯·æ±‚ï¼Ÿ**

```csharp
public abstract class Handler
{
    protected Handler _next;

    public Handler SetNext(Handler next)
    {
        _next = next;
        return next;
    }

    public abstract void Handle(Request request);
}

public class AuthenticationHandler : Handler
{
    public override void Handle(Request request)
    {
        if (!request.IsAuthenticated)
        {
            Console.WriteLine("è®¤è¯å¤±è´¥");
            return;
        }
        _next?.Handle(request);
    }
}

// æ„å»ºé“¾æ¡
var chain = new AuthenticationHandler();
chain.SetNext(new AuthorizationHandler())
     .SetNext(new ValidationHandler())
     .SetNext(new ProcessingHandler());
```

**25. å‘½ä»¤æ¨¡å¼çš„æ’¤é”€/é‡åšå®ç°ï¼Ÿ**

```csharp
public interface ICommand
{
    void Execute();
    void Undo();
}

public class AddTextCommand : ICommand
{
    private TextEditor _editor;
    private string _text;
    private int _position;

    public AddTextCommand(TextEditor editor, string text, int position)
    {
        _editor = editor;
        _text = text;
        _position = position;
    }

    public void Execute()
    {
        _editor.InsertText(_position, _text);
    }

    public void Undo()
    {
        _editor.DeleteText(_position, _text.Length);
    }
}

// å‘½ä»¤ç®¡ç†å™¨
public class CommandManager
{
    private Stack<ICommand> _undoStack = new();
    private Stack<ICommand> _redoStack = new();

    public void Execute(ICommand command)
    {
        command.Execute();
        _undoStack.Push(command);
        _redoStack.Clear();
    }

    public void Undo()
    {
        if (_undoStack.Count > 0)
        {
            var command = _undoStack.Pop();
            command.Undo();
            _redoStack.Push(command);
        }
    }
}
```

**26. çŠ¶æ€æ¨¡å¼ä¸ç­–ç•¥æ¨¡å¼çš„åŒºåˆ«ï¼Ÿ**

```
çŠ¶æ€æ¨¡å¼ï¼š
- å¯¹è±¡å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜è¡Œä¸º
- çŠ¶æ€çŸ¥é“å…¶ä»–çŠ¶æ€ï¼Œå¯è½¬æ¢
- è¡Œä¸ºå–å†³äºçŠ¶æ€
- çŠ¶æ€æ˜¯äº’ç›¸å…³è”çš„

ç­–ç•¥æ¨¡å¼ï¼š
- å®¢æˆ·ç«¯é€‰æ‹©ç®—æ³•
- ç­–ç•¥ä¹‹é—´ç›¸äº’ç‹¬ç«‹
- è¡Œä¸ºç”±ç­–ç•¥å†³å®š
- ç­–ç•¥æ˜¯ç‹¬ç«‹çš„

å…³é”®åŒºåˆ«ï¼š
çŠ¶æ€æ¨¡å¼ï¼šçŠ¶æ€é©±åŠ¨è¡Œä¸ºæ”¹å˜
ç­–ç•¥æ¨¡å¼ï¼šå®¢æˆ·ç«¯ä¸»åŠ¨é€‰æ‹©è¡Œä¸º
```

**27. è®¿é—®è€…æ¨¡å¼çš„åŒé‡åˆ†æ´¾åŸç†ï¼Ÿ**

```
åŒé‡åˆ†æ´¾ï¼šæ ¹æ®å¯¹è±¡ç±»å‹å’Œè®¿é—®è€…ç±»å‹å†³å®šè°ƒç”¨å“ªä¸ªæ–¹æ³•

å®ç°æ–¹å¼ï¼š
1. å…ƒç´ æ¥å£æ¥å—è®¿é—®è€…
2. è®¿é—®è€…æ¥å£ä¸ºæ¯ç§å…ƒç´ æä¾›æ–¹æ³•
3. å…ƒç´ è°ƒç”¨è®¿é—®è€…çš„å¯¹åº”æ–¹æ³•

ä¼˜ç‚¹ï¼š
- æ˜“äºæ·»åŠ æ–°æ“ä½œ
- ç›¸å…³è¡Œä¸ºé›†ä¸­åˆ°è®¿é—®è€…

ç¼ºç‚¹ï¼š
- éš¾ä»¥æ·»åŠ æ–°å…ƒç´ ç±»å‹
- ç ´åå°è£…
```

**28. ä¸­ä»‹è€…æ¨¡å¼åœ¨èŠå¤©ç³»ç»Ÿä¸­çš„åº”ç”¨ï¼Ÿ**

```csharp
public interface IChatMediator
{
    void SendMessage(string message, User user);
    void AddUser(User user);
}

public class ChatRoom : IChatMediator
{
    private List<User> _users = new();

    public void AddUser(User user)
    {
        _users.Add(user);
        user.SetMediator(this);
    }

    public void SendMessage(string message, User sender)
    {
        foreach (var user in _users)
        {
            if (user != sender)
            {
                user.Receive(message);
            }
        }
    }
}

public class User
{
    private IChatMediator _mediator;
    public string Name { get; }

    public void SetMediator(IChatMediator mediator)
        => _mediator = mediator;

    public void Send(string message)
        => _mediator?.SendMessage(message, this);

    public void Receive(string message)
        => Console.WriteLine($"{Name} received: {message}");
}
```

**29. å¤‡å¿˜å½•æ¨¡å¼å¦‚ä½•å®ç°å¯¹è±¡çŠ¶æ€ä¿å­˜ï¼Ÿ**

```
å®ç°è¦ç‚¹ï¼š
1. åŸå‘å™¨ï¼ˆOriginatorï¼‰ï¼šéœ€è¦ä¿å­˜çŠ¶æ€çš„å¯¹è±¡
2. å¤‡å¿˜å½•ï¼ˆMementoï¼‰ï¼šä¿å­˜åŸå‘å™¨çŠ¶æ€
3. ç®¡ç†è€…ï¼ˆCaretakerï¼‰ï¼šç®¡ç†å¤‡å¿˜å½•

æ³¨æ„äº‹é¡¹ï¼š
- å¤‡å¿˜å½•åº”è¯¥åªè¢«åŸå‘å™¨è®¿é—®
- å¯ä»¥ç»“åˆåŸå‹æ¨¡å¼å®ç°æ·±æ‹·è´
- è€ƒè™‘çŠ¶æ€ä¿å­˜é¢‘ç‡å’Œå†…å­˜ä½¿ç”¨
```

**30. è§£é‡Šå™¨æ¨¡å¼åœ¨è§„åˆ™å¼•æ“ä¸­çš„åº”ç”¨ï¼Ÿ**

```
é€‚ç”¨åœºæ™¯ï¼š
- éœ€è¦è§£é‡Šæ‰§è¡Œçš„è¯­è¨€æˆ–è§„åˆ™
- ç®€å•è¯­æ³•è§„åˆ™
- é¢‘ç¹å˜åŒ–çš„éœ€æ±‚

ç»„æˆéƒ¨åˆ†ï¼š
- æŠ½è±¡è¡¨è¾¾å¼
- ç»ˆç»“ç¬¦è¡¨è¾¾å¼
- éç»ˆç»“ç¬¦è¡¨è¾¾å¼
- ä¸Šä¸‹æ–‡

ç¤ºä¾‹ï¼š
- æ­£åˆ™è¡¨è¾¾å¼è§£é‡Šå™¨
- SQLè§£æå™¨
- ä¸šåŠ¡è§„åˆ™å¼•æ“
- è®¡ç®—å…¬å¼è§£æ
```

---

# å•å…ƒæµ‹è¯•é¢è¯•é¢˜ç›®ï¼ˆ25 é¢˜ï¼‰

## ä¸€ã€åŸºç¡€æ¦‚å¿µå’ŒåŸåˆ™ï¼ˆ8 é¢˜ï¼‰

### åˆçº§é¢˜ç›®ï¼ˆ4 é¢˜ï¼‰

**1. ä»€ä¹ˆæ˜¯å•å…ƒæµ‹è¯•ï¼Ÿä¸ºä»€ä¹ˆè¦å†™å•å…ƒæµ‹è¯•ï¼Ÿ**

```
å•å…ƒæµ‹è¯•ï¼šé’ˆå¯¹æœ€å°å¯æµ‹è¯•å•å…ƒï¼ˆé€šå¸¸æ˜¯æ–¹æ³•ï¼‰çš„æµ‹è¯•

ä¸ºä»€ä¹ˆè¦å†™ï¼š
1. ä¿è¯ä»£ç è´¨é‡
2. å¿«é€Ÿå‘ç°å›å½’é”™è¯¯
3. ä½œä¸ºæ–‡æ¡£è¯´æ˜ä»£ç ç”¨æ³•
4. ä¿ƒè¿›æ›´å¥½è®¾è®¡ï¼ˆå¯æµ‹è¯•æ€§ï¼‰
5. æ”¯æŒé‡æ„
6. æé«˜å¼€å‘æ•ˆç‡ï¼ˆå‡å°‘è°ƒè¯•æ—¶é—´ï¼‰
```

**2. å•å…ƒæµ‹è¯•çš„ FIRST åŸåˆ™æ˜¯ä»€ä¹ˆï¼Ÿ**

```
F - Fastï¼ˆå¿«é€Ÿï¼‰ï¼šæµ‹è¯•è¦å¿«é€Ÿè¿è¡Œ
I - Independentï¼ˆç‹¬ç«‹ï¼‰ï¼šæµ‹è¯•ä¹‹é—´ä¸ä¾èµ–
R - Repeatableï¼ˆå¯é‡å¤ï¼‰ï¼šä»»ä½•ç¯å¢ƒå¯é‡å¤è¿è¡Œ
S - Self-Validatingï¼ˆè‡ªéªŒè¯ï¼‰ï¼šè‡ªåŠ¨åˆ¤æ–­ç»“æœ
T - Timelyï¼ˆåŠæ—¶ï¼‰ï¼šæµ‹è¯•ä¸ä»£ç åŒæ—¶ç¼–å†™
```

**3. ä»€ä¹ˆæ˜¯æµ‹è¯•é‡‘å­—å¡”ï¼Ÿ**

```
æµ‹è¯•é‡‘å­—å¡”ï¼ˆç”±ä¸‹è‡³ä¸Šï¼‰ï¼š
1. å•å…ƒæµ‹è¯•ï¼ˆæœ€å¤šï¼Œ70-80%ï¼‰
   - æµ‹è¯•å•ä¸ªç»„ä»¶
   - è¿è¡Œæœ€å¿«
   - æˆæœ¬æœ€ä½

2. é›†æˆæµ‹è¯•ï¼ˆä¸­ç­‰ï¼Œ15-20%ï¼‰
   - æµ‹è¯•ç»„ä»¶é—´äº¤äº’
   - åŒ…æ‹¬æ•°æ®åº“ã€å¤–éƒ¨æœåŠ¡

3. ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆæœ€å°‘ï¼Œ5-10%ï¼‰
   - æµ‹è¯•å®Œæ•´æµç¨‹
   - è¿è¡Œæœ€æ…¢
   - æˆæœ¬æœ€é«˜
```

**4. å•å…ƒæµ‹è¯•çš„ AAA æ¨¡å¼æ˜¯ä»€ä¹ˆï¼Ÿ**

```
AAAæ¨¡å¼ï¼šç»„ç»‡æµ‹è¯•ä»£ç çš„æ ‡å‡†ç»“æ„

1. Arrangeï¼ˆå‡†å¤‡ï¼‰ï¼šè®¾ç½®æµ‹è¯•å‰ææ¡ä»¶
   - åˆ›å»ºå¯¹è±¡
   - è®¾ç½®è¾“å…¥æ•°æ®
   - é…ç½®ä¾èµ–

2. Actï¼ˆæ‰§è¡Œï¼‰ï¼šæ‰§è¡Œè¢«æµ‹è¯•æ–¹æ³•
   - è°ƒç”¨ç›®æ ‡æ–¹æ³•
   - æ•è·ç»“æœ

3. Assertï¼ˆæ–­è¨€ï¼‰ï¼šéªŒè¯ç»“æœ
   - æ£€æŸ¥è¿”å›å€¼
   - éªŒè¯çŠ¶æ€å˜åŒ–
   - ç¡®è®¤äº¤äº’å‘ç”Ÿ
```

### ä¸­çº§é¢˜ç›®ï¼ˆ4 é¢˜ï¼‰

**5. ä»€ä¹ˆæ˜¯æµ‹è¯•é©±åŠ¨å¼€å‘ï¼ˆTDDï¼‰ï¼Ÿæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ**

```
TDDï¼šæµ‹è¯•å…ˆè¡Œå¼€å‘æ–¹æ³•

æµç¨‹ï¼ˆçº¢-ç»¿-é‡æ„ï¼‰ï¼š
1. çº¢ï¼šç¼–å†™å¤±è´¥çš„æµ‹è¯•
2. ç»¿ï¼šç¼–å†™æœ€å°‘ä»£ç ä½¿æµ‹è¯•é€šè¿‡
3. é‡æ„ï¼šä¼˜åŒ–ä»£ç è®¾è®¡
4. é‡å¤

å¥½å¤„ï¼š
- å¼ºåˆ¶æ€è€ƒæ¥å£è®¾è®¡
- æé«˜ä»£ç è¦†ç›–ç‡
- å‡å°‘è¿‡åº¦è®¾è®¡
- å¿«é€Ÿåé¦ˆ
```

**6. ä»€ä¹ˆæ˜¯è¡Œä¸ºé©±åŠ¨å¼€å‘ï¼ˆBDDï¼‰ï¼Ÿä¸ TDD çš„åŒºåˆ«ï¼Ÿ**

```
BDDï¼šTDDçš„æ‰©å±•ï¼Œå¼ºè°ƒä¸šåŠ¡è¡Œä¸ºæè¿°

åŒºåˆ«ï¼š
TDDï¼šå¼€å‘äººå‘˜è§†è§’ï¼ŒæŠ€æœ¯æµ‹è¯•
BDDï¼šä¸šåŠ¡äººå‘˜è§†è§’ï¼Œè¡Œä¸ºæµ‹è¯•

BDDæ ¼å¼ï¼ˆGiven-When-Thenï¼‰ï¼š
Givenï¼šåˆå§‹çŠ¶æ€
Whenï¼šå‘ç”Ÿäº‹ä»¶
Thenï¼šé¢„æœŸç»“æœ

å·¥å…·ï¼šSpecFlow, Cucumber
```

**7. ä»€ä¹ˆæ˜¯ä»£ç è¦†ç›–ç‡ï¼Ÿæœ‰å“ªäº›ç±»å‹ï¼Ÿ**

```
ä»£ç è¦†ç›–ç‡ï¼šæµ‹è¯•è¦†ç›–ä»£ç çš„ç¨‹åº¦

ç±»å‹ï¼š
1. è¯­å¥è¦†ç›–ç‡ï¼šæ˜¯å¦æ‰§è¡Œæ¯æ¡è¯­å¥
2. åˆ†æ”¯è¦†ç›–ç‡ï¼šæ˜¯å¦è¦†ç›–æ‰€æœ‰åˆ†æ”¯
3. æ¡ä»¶è¦†ç›–ç‡ï¼šæ˜¯å¦è¦†ç›–æ‰€æœ‰æ¡ä»¶ç»„åˆ
4. è·¯å¾„è¦†ç›–ç‡ï¼šæ˜¯å¦è¦†ç›–æ‰€æœ‰è·¯å¾„

åˆç†ç›®æ ‡ï¼š80%å·¦å³ï¼Œä¸è¦ç›²ç›®è¿½æ±‚100%
```

**8. ä»€ä¹ˆæ˜¯å¯æµ‹è¯•æ€§ï¼Ÿå¦‚ä½•æé«˜ä»£ç å¯æµ‹è¯•æ€§ï¼Ÿ**

```
å¯æµ‹è¯•æ€§ï¼šä»£ç æ˜“äºæµ‹è¯•çš„ç¨‹åº¦

æé«˜æ–¹æ³•ï¼š
1. ä¾èµ–æ³¨å…¥
2. é¢å‘æ¥å£ç¼–ç¨‹
3. å•ä¸€èŒè´£åŸåˆ™
4. é¿å…é™æ€æ–¹æ³•å’Œå•ä¾‹
5. å‡å°‘å…¨å±€çŠ¶æ€
6. åˆç†ä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦
7. é¿å…å¤æ‚æ„é€ å‡½æ•°
```

## äºŒã€æµ‹è¯•æ¡†æ¶å’Œå·¥å…·ï¼ˆ7 é¢˜ï¼‰

**9. xUnitã€NUnitã€MSTest çš„åŒºåˆ«ï¼Ÿ**

```
xUnitï¼ˆæ¨èï¼‰ï¼š
- ç¤¾åŒºé©±åŠ¨ï¼Œè½»é‡çº§
- [Fact] å’Œ [Theory] å±æ€§
- æ„é€ å‡½æ•°å’ŒDisposeç”¨äºåˆå§‹åŒ–å’Œæ¸…ç†
- æ²¡æœ‰[SetUp]/[TearDown]

NUnitï¼š
- åŠŸèƒ½ä¸°å¯Œ
- [Test] å±æ€§
- [SetUp]/[TearDown] å±æ€§
- å‚æ•°åŒ–æµ‹è¯•æ”¯æŒå¥½

MSTestï¼š
- Visual Studioå†…ç½®
- ä¸VSé›†æˆæœ€å¥½
- [TestMethod] å±æ€§
- æ”¯æŒéƒ¨ç½²é¡¹

é€‰æ‹©ï¼šxUnitæœ€æµè¡Œï¼ŒNUnitåŠŸèƒ½å…¨ï¼ŒMSTesté›†æˆå¥½
```

**10. Mock å’Œ Stub çš„åŒºåˆ«ï¼Ÿ**

```
Mockï¼šéªŒè¯å¯¹è±¡é—´äº¤äº’
- å…³æ³¨"å¦‚ä½•è¢«è°ƒç”¨"
- éªŒè¯æ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨ã€è°ƒç”¨æ¬¡æ•°ã€å‚æ•°
- å¦‚ï¼šéªŒè¯æ˜¯å¦å‘é€äº†é‚®ä»¶

Stubï¼šæä¾›é¢„è®¾å“åº”
- å…³æ³¨"è¿”å›ä»€ä¹ˆ"
- æä¾›å›ºå®šè¿”å›å€¼
- å¦‚ï¼šæ¨¡æ‹Ÿæ•°æ®åº“è¿”å›æµ‹è¯•æ•°æ®

Fakeï¼šåŠŸèƒ½å®ç°
- ç®€åŒ–ç‰ˆæœ¬çš„çœŸæ­£å®ç°
- å¦‚ï¼šå†…å­˜æ•°æ®åº“

Spyï¼šè®°å½•è°ƒç”¨ä¿¡æ¯çš„Stub
```

**11. Moq æ¡†æ¶çš„åŸºæœ¬ç”¨æ³•ï¼Ÿ**

```csharp
// åˆ›å»ºMockå¯¹è±¡
var mockService = new Mock<IService>();

// è®¾ç½®è¿”å›å€¼
mockService.Setup(s => s.GetData())
          .Returns("test data");

// è®¾ç½®æŠ›å‡ºå¼‚å¸¸
mockService.Setup(s => s.GetData())
          .Throws<InvalidOperationException>();

// å‚æ•°åŒ¹é…
mockService.Setup(s => s.Process(It.IsAny<string>()))
          .Returns(true);
mockService.Setup(s => s.Process(It.Is<string>(p => p.StartsWith("A"))))
          .Returns(true);

// éªŒè¯è°ƒç”¨
mockService.Verify(s => s.GetData(), Times.Once());
mockService.Verify(s => s.Process("test"), Times.Exactly(2));

// å±æ€§è®¾ç½®
mockService.SetupProperty(s => s.IsEnabled, true);

// å›è°ƒ
mockService.Setup(s => s.Process(It.IsAny<string>()))
          .Callback<string>(param => Console.WriteLine(param))
          .Returns(true);
```

**12. ä»€ä¹ˆæ˜¯ Fluent Assertionsï¼Ÿä¼˜åŠ¿ï¼Ÿ**

```
Fluent Assertionsï¼šæ›´æ˜“è¯»çš„æ–­è¨€åº“

ä¼˜åŠ¿ï¼š
1. æ›´è‡ªç„¶çš„è¯­è¨€
2. ä¸°å¯Œçš„æ–­è¨€æ–¹æ³•
3. æ›´å¥½çš„é”™è¯¯ä¿¡æ¯
4. é“¾å¼è°ƒç”¨

ç¤ºä¾‹ï¼š
// ä¼ ç»Ÿæ–­è¨€
Assert.Equal(42, result);

// Fluent Assertions
result.Should().Be(42);
result.Should().BeGreaterThan(40).And.BeLessThan(50);
string.Should().StartWith("Hello").And.EndWith("World");
collection.Should().Contain(3).And.HaveCount(5);
exception.Should().BeOfType<ArgumentException>();
```

**13. å¦‚ä½•æµ‹è¯•å¼‚æ­¥ä»£ç ï¼Ÿ**

```csharp
// xUnitæµ‹è¯•å¼‚æ­¥æ–¹æ³•
[Fact]
public async Task CalculateAsync_ReturnsCorrectValue()
{
    // Arrange
    var calculator = new Calculator();

    // Act
    var result = await calculator.CalculateAsync(5);

    // Assert
    Assert.Equal(25, result);
}

// æµ‹è¯•å¼‚å¸¸
[Fact]
public async Task CalculateAsync_ThrowsException_WhenInputIsNegative()
{
    // Arrange
    var calculator = new Calculator();

    // Act & Assert
    await Assert.ThrowsAsync<ArgumentException>(
        async () => await calculator.CalculateAsync(-1));
}

// æµ‹è¯•Taskç»“æœ
[Fact]
public void CalculateAsync_ReturnsTask()
{
    // Arrange
    var calculator = new Calculator();

    // Act
    var task = calculator.CalculateAsync(5);

    // Assert
    Assert.NotNull(task);
    Assert.IsType<Task<int>>(task);
}
```

**14. ä»€ä¹ˆæ˜¯æµ‹è¯•æ•°æ®ç”Ÿæˆå™¨ï¼Ÿ**

```
æµ‹è¯•æ•°æ®ç”Ÿæˆå™¨ï¼šè‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æ•°æ®çš„å·¥å…·

ç›®çš„ï¼š
1. å‡å°‘æµ‹è¯•æ•°æ®ç¼–å†™
2. æé«˜æµ‹è¯•è¦†ç›–ç‡
3. å‘ç°è¾¹ç•Œæ¡ä»¶

å·¥å…·ï¼š
- AutoFixtureï¼šè‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æ•°æ®
- Bogusï¼šç”Ÿæˆé€¼çœŸå‡æ•°æ®
- NBuilderï¼šæ„å»ºæµ‹è¯•å¯¹è±¡

ç¤ºä¾‹ï¼ˆAutoFixtureï¼‰ï¼š
var fixture = new Fixture();
var customer = fixture.Create<Customer>();
var orders = fixture.CreateMany<Order>(10);
```

**15. å¦‚ä½•æµ‹è¯•ç§æœ‰æ–¹æ³•ï¼Ÿ**

```
åŸåˆ™ï¼šä¼˜å…ˆæµ‹è¯•å…¬æœ‰æ–¹æ³•ï¼Œç§æœ‰æ–¹æ³•é€šè¿‡å…¬æœ‰æ–¹æ³•é—´æ¥æµ‹è¯•

å¦‚æœå¿…é¡»æµ‹è¯•ï¼š
1. æ”¹ä¸ºinternal + [InternalsVisibleTo]
   [assembly: InternalsVisibleTo("TestProject")]

2. ä½¿ç”¨åå°„ï¼ˆä¸æ¨èï¼‰
   var method = typeof(MyClass).GetMethod("PrivateMethod",
       BindingFlags.NonPublic | BindingFlags.Instance);
   var result = method.Invoke(instance, parameters);

3. æå–åˆ°æ–°ç±»ï¼ˆæ¨èï¼‰
   å°†ç§æœ‰æ–¹æ³•æå–åˆ°æ–°ç±»çš„å…¬æœ‰æ–¹æ³•
```

## ä¸‰ã€æµ‹è¯•ç­–ç•¥å’Œå®è·µï¼ˆ10 é¢˜ï¼‰

**16. å¦‚ä½•å¤„ç†å¤–éƒ¨ä¾èµ–æµ‹è¯•ï¼Ÿ**

```
ç­–ç•¥ï¼š
1. æ¨¡æ‹Ÿå¤–éƒ¨æœåŠ¡ï¼ˆMockï¼‰
2. ä½¿ç”¨æµ‹è¯•æ›¿èº«ï¼ˆFakeï¼‰
3. é›†æˆæµ‹è¯•ç¯å¢ƒ
4. å¥‘çº¦æµ‹è¯•
5. æµ‹è¯•éš”ç¦»

å…·ä½“åœºæ™¯ï¼š
- æ•°æ®åº“ï¼šä½¿ç”¨å†…å­˜æ•°æ®åº“ï¼ˆSQLite in-memory, LocalDBï¼‰
- APIï¼šä½¿ç”¨MockHttpæˆ–WireMock
- æ–‡ä»¶ç³»ç»Ÿï¼šæŠ½è±¡æ¥å£ + Mock
- æ—¶é—´ï¼šä½¿ç”¨ITimeProvideræ¥å£
```

**17. å¦‚ä½•æµ‹è¯•æ•°æ®åº“ç›¸å…³ä»£ç ï¼Ÿ**

```csharp
// 1. ä½¿ç”¨å†…å­˜æ•°æ®åº“
public class DatabaseTests : IDisposable
{
    private readonly DbContext _context;

    public DatabaseTests()
    {
        var options = new DbContextOptionsBuilder<AppDbContext>()
            .UseInMemoryDatabase(Guid.NewGuid().ToString())
            .Options;
        _context = new AppDbContext(options);
    }

    [Fact]
    public async Task AddUser_UserIsAddedToDatabase()
    {
        // Arrange
        var repository = new UserRepository(_context);
        var user = new User { Name = "Test" };

        // Act
        await repository.AddAsync(user);

        // Assert
        var savedUser = await _context.Users.FirstOrDefaultAsync();
        Assert.NotNull(savedUser);
        Assert.Equal("Test", savedUser.Name);
    }

    public void Dispose() => _context?.Dispose();
}

// 2. ä½¿ç”¨äº‹åŠ¡å›æ»š
[Collection("Database")]
public class DatabaseTransactionTests
{
    [Fact]
    public void TestWithTransaction()
    {
        using (var transaction = new TransactionScope())
        {
            // æµ‹è¯•ä»£ç 
            // äº‹åŠ¡ç»“æŸåè‡ªåŠ¨å›æ»š
        }
    }
}
```

**18. ä»€ä¹ˆæ˜¯é›†æˆæµ‹è¯•ï¼Ÿå¦‚ä½•ç»„ç»‡ï¼Ÿ**

```
é›†æˆæµ‹è¯•ï¼šæµ‹è¯•å¤šä¸ªç»„ä»¶ååŒå·¥ä½œ

ç»„ç»‡æ–¹å¼ï¼š
1. å•ç‹¬é›†æˆæµ‹è¯•é¡¹ç›®
2. ä¸å•å…ƒæµ‹è¯•åˆ†ç¦»
3. ä½¿ç”¨ä¸åŒçš„æµ‹è¯•è¿è¡Œå™¨

æµ‹è¯•ç±»å‹ï¼š
1. æ•°æ®åº“é›†æˆæµ‹è¯•
2. APIé›†æˆæµ‹è¯•
3. å¤–éƒ¨æœåŠ¡é›†æˆæµ‹è¯•
4. ç«¯åˆ°ç«¯æµ‹è¯•

æ ‡è®°ï¼š[Trait("Category", "Integration")]
```

**19. å¦‚ä½•æµ‹è¯• Web APIï¼Ÿ**

```csharp
// ä½¿ç”¨TestServer
public class ApiTests : IDisposable
{
    private readonly TestServer _server;
    private readonly HttpClient _client;

    public ApiTests()
    {
        var builder = new WebHostBuilder()
            .UseStartup<TestStartup>(); // ä½¿ç”¨æµ‹è¯•ä¸“ç”¨Startup
        _server = new TestServer(builder);
        _client = _server.CreateClient();
    }

    [Fact]
    public async Task GetUsers_ReturnsSuccess()
    {
        // Act
        var response = await _client.GetAsync("/api/users");

        // Assert
        response.EnsureSuccessStatusCode();
        var content = await response.Content.ReadAsStringAsync();
        var users = JsonConvert.DeserializeObject<List<User>>(content);
        Assert.NotEmpty(users);
    }

    [Fact]
    public async Task PostUser_CreatesNewUser()
    {
        // Arrange
        var newUser = new { Name = "Test", Email = "test@example.com" };
        var content = new StringContent(
            JsonConvert.SerializeObject(newUser),
            Encoding.UTF8,
            "application/json");

        // Act
        var response = await _client.PostAsync("/api/users", content);

        // Assert
        response.EnsureSuccessStatusCode();
        Assert.Equal(HttpStatusCode.Created, response.StatusCode);
    }

    public void Dispose()
    {
        _client?.Dispose();
        _server?.Dispose();
    }
}
```

**20. ä»€ä¹ˆæ˜¯å¿«ç…§æµ‹è¯•ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ**

```
å¿«ç…§æµ‹è¯•ï¼šæ¯”è¾ƒè¾“å‡ºä¸ä¿å­˜çš„å¿«ç…§æ˜¯å¦ä¸€è‡´

åº”ç”¨åœºæ™¯ï¼š
1. UIç»„ä»¶æ¸²æŸ“
2. APIå“åº”æ ¼å¼
3. é…ç½®æ–‡ä»¶ç”Ÿæˆ
4. åºåˆ—åŒ–ç»“æœ
5. é”™è¯¯æ¶ˆæ¯æ ¼å¼

å·¥å…·ï¼š
- Snapperï¼ˆ.NETï¼‰
- Jest Snapshotï¼ˆJavaScriptï¼‰
- Approval Tests

ç¤ºä¾‹ï¼š
[Fact]
public void GenerateReport_MatchesSnapshot()
{
    // Arrange
    var generator = new ReportGenerator();

    // Act
    var report = generator.Generate();

    // Assert
    report.ShouldMatchSnapshot();
}
```

**21. å¦‚ä½•æµ‹è¯•å¼‚å¸¸å’Œè¾¹ç•Œæ¡ä»¶ï¼Ÿ**

```csharp
// è¾¹ç•Œæ¡ä»¶æµ‹è¯•
[Theory]
[InlineData(0)]          // æœ€å°å€¼è¾¹ç•Œ
[InlineData(100)]        // æœ€å¤§å€¼è¾¹ç•Œ
[InlineData(50)]         // æ­£å¸¸å€¼
[InlineData(-1)]         // å°äºæœ€å°å€¼
[InlineData(101)]        // å¤§äºæœ€å¤§å€¼
public void ValidateAge_ValidatesCorrectly(int age)
{
    // Arrange
    var validator = new AgeValidator();

    // Act & Assert
    if (age >= 0 && age <= 100)
    {
        Assert.True(validator.IsValid(age));
    }
    else
    {
        Assert.False(validator.IsValid(age));
    }
}

// å¼‚å¸¸æµ‹è¯•
[Fact]
public void Divide_ThrowsDivideByZeroException_WhenDivisorIsZero()
{
    // Arrange
    var calculator = new Calculator();

    // Act & Assert
    var exception = Assert.Throws<DivideByZeroException>(
        () => calculator.Divide(10, 0));

    Assert.Equal("Divisor cannot be zero", exception.Message);
}

// å‚æ•°åŒ–å¼‚å¸¸æµ‹è¯•
[Theory]
[InlineData(null, "Value cannot be null.")]
[InlineData("", "Value cannot be empty.")]
[InlineData("   ", "Value cannot be whitespace.")]
public void ValidateString_ThrowsArgumentException(string input, string expectedMessage)
{
    // Arrange
    var validator = new StringValidator();

    // Act & Assert
    var exception = Assert.Throws<ArgumentException>(
        () => validator.Validate(input));

    Assert.Contains(expectedMessage, exception.Message);
}
```

**22. ä»€ä¹ˆæ˜¯æµ‹è¯•å¤¹å…·ï¼ˆTest Fixtureï¼‰ï¼Ÿå¦‚ä½•ç®¡ç†ï¼Ÿ**

```
æµ‹è¯•å¤¹å…·ï¼šæµ‹è¯•è¿è¡Œæ‰€éœ€çš„åˆå§‹çŠ¶æ€

ç®¡ç†æ–¹å¼ï¼š
1. æ„é€ å‡½æ•°å’ŒDisposeï¼ˆxUnitï¼‰
   - æ¯ä¸ªæµ‹è¯•åˆ›å»ºæ–°å®ä¾‹

2. [SetUp]/[TearDown]ï¼ˆNUnitï¼‰
   - æ¯ä¸ªæµ‹è¯•å‰åæ‰§è¡Œ

3. ç±»å¤¹å…·ï¼ˆIClassFixtureï¼‰
   - ç±»çº§åˆ«å…±äº«

4. é›†åˆå¤¹å…·ï¼ˆICollectionFixtureï¼‰
   - å¤šä¸ªæµ‹è¯•ç±»å…±äº«

é€‰æ‹©åŸåˆ™ï¼š
- è½»é‡çº§ï¼šä½¿ç”¨æ„é€ å‡½æ•°
- æ˜‚è´µèµ„æºï¼šä½¿ç”¨ç±»å¤¹å…·
- æ•°æ®åº“ï¼šä½¿ç”¨äº‹åŠ¡
```

**23. å¦‚ä½•å¤„ç†æµ‹è¯•ä¸­çš„éšæœºæ€§ï¼Ÿ**

```
1. ä½¿ç”¨å›ºå®šç§å­
   var random = new Random(12345); // å›ºå®šç§å­

2. å±æ€§åŒ–æµ‹è¯•å¤šæ¬¡è¿è¡Œ
   [Theory]
   [Repeat(100)] // è¿è¡Œ100æ¬¡
   public void TestRandomScenario()

3. ä½¿ç”¨æµ‹è¯•æ•°æ®ç”Ÿæˆå™¨
   [Property]
   public void PropertyTest(int a, int b)
   {
       // è‡ªåŠ¨ç”Ÿæˆa,bå€¼å¤šæ¬¡æµ‹è¯•
   }

4. åˆ†ç¦»éšæœºé€»è¾‘
   interface IRandomProvider { int Next(int min, int max); }

5. æµ‹è¯•éšæœºåˆ†å¸ƒï¼Œè€Œä¸æ˜¯å…·ä½“å€¼
   Assert.InRange(result, 1, 100);
```

**24. ä»€ä¹ˆæ˜¯æµ‹è¯•é‡æ„åå‘³é“ï¼Ÿ**

```
å¸¸è§æµ‹è¯•åå‘³é“ï¼š
1. è„†å¼±æµ‹è¯•ï¼šå°å˜åŒ–å¯¼è‡´å¤±è´¥
2. é‡å¤æµ‹è¯•ï¼šé‡å¤çš„Arrange/Assert
3. è¿‡é•¿æµ‹è¯•ï¼šæµ‹è¯•æ–¹æ³•è¿‡é•¿
4. è¿‡åº¦æ–­è¨€ï¼šè¿‡å¤šæ–­è¨€éš¾ä»¥ç†è§£
5. ç¥å¥‡æ•°å­—ï¼šæœªè§£é‡Šçš„æµ‹è¯•æ•°æ®
6. æµ‹è¯•é—´ä¾èµ–ï¼šæµ‹è¯•é¡ºåºå½±å“ç»“æœ
7. ç¼“æ…¢æµ‹è¯•ï¼šè¿è¡Œè¿‡æ…¢
8. æ³¨é‡Šæµ‹è¯•ï¼šè¢«æ³¨é‡Šçš„æµ‹è¯•

é‡æ„æ–¹æ³•ï¼š
- æå–æµ‹è¯•è¾…åŠ©æ–¹æ³•
- ä½¿ç”¨æµ‹è¯•æ•°æ®ç”Ÿæˆå™¨
- å‚æ•°åŒ–æµ‹è¯•
- æ”¹å–„æµ‹è¯•å‘½å
```

**25. å¦‚ä½•è¡¡é‡æµ‹è¯•æœ‰æ•ˆæ€§ï¼Ÿ**

```
è¡¡é‡æŒ‡æ ‡ï¼š
1. æµ‹è¯•é€šè¿‡ç‡
2. ä»£ç è¦†ç›–ç‡ï¼ˆåˆç†ç›®æ ‡ï¼‰
3. ç¼ºé™·é€ƒé€¸ç‡ï¼ˆç”Ÿäº§é—®é¢˜æ•°ï¼‰
4. æµ‹è¯•æ‰§è¡Œæ—¶é—´
5. æµ‹è¯•ç»´æŠ¤æˆæœ¬
6. æµ‹è¯•å¯è¯»æ€§
7. æµ‹è¯•ç¨³å®šæ€§

é¿å…ï¼š
- ç›²ç›®è¿½æ±‚100%è¦†ç›–ç‡
- å¿½è§†æµ‹è¯•è´¨é‡åªå…³æ³¨æ•°é‡
- ä¸ç»´æŠ¤é™ˆæ—§çš„æµ‹è¯•

æœ€ä½³å®è·µï¼š
- å®šæœŸè¯„å®¡æµ‹è¯•
- åˆ é™¤æ— ç”¨æµ‹è¯•
- é‡æ„éš¾ç»´æŠ¤çš„æµ‹è¯•
- å…³æ³¨æµ‹è¯•ä»·å€¼è€Œéæ•°é‡
```

---

è¿™äº›è®¾è®¡æ¨¡å¼å’Œå•å…ƒæµ‹è¯•çš„é¢è¯•é¢˜ç›®æ¶µç›–äº†ä»åŸºç¡€æ¦‚å¿µåˆ°é«˜çº§å®è·µçš„å„ä¸ªæ–¹é¢ï¼Œå¯ä»¥å¸®åŠ©å…¨é¢è¯„ä¼°å€™é€‰äººåœ¨è½¯ä»¶è®¾è®¡å’Œè´¨é‡ä¿éšœæ–¹é¢çš„èƒ½åŠ›ã€‚é¢˜ç›®æŒ‰éš¾åº¦åˆ†çº§ï¼Œå¯ä»¥æ ¹æ®èŒä½è¦æ±‚é€‰æ‹©åˆé€‚çš„é¢˜ç›®è¿›è¡Œé¢è¯•ã€‚
